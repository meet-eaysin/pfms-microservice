# Personal Financial Management System (PFMS)
# Development Environment Variables
# Copy this file to .env and .env.local and update with your values

# ============================================
# NODE ENVIRONMENT
# ============================================
PORT=3000
NODE_ENV=development
SERVICE_NAME=pfms-gateway
SERVICE_VERSION=1.0.0
LOG_LEVEL=debug
ENABLE_SWAGGER=true
ENABLE_METRICS=true

# ============================================
# DATABASE - PostgreSQL
# ============================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/pfms_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=pfms_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_SSL=false
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pfms_dev
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DB_POOL_SIZE=10
DB_MAX_POOL_SIZE=20
DB_IDLE_TIMEOUT_MS=30000
DATABASE_QUERY_TIMEOUT=30000
DATABASE_ENABLE_LOGGING=false

# ============================================
# REDIS
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_RETRIES=3
REDIS_OFFLINE_QUEUE=true
REDIS_TLS=false
REDIS_POOL_MIN=5
REDIS_POOL_MAX=20
REDIS_KEY_PREFIX=pfms:
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=86400

# ============================================
# RABBITMQ / Message Queue
# ============================================
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_PROTOCOL=amqp
RABBITMQ_PREFETCH=10
RABBITMQ_REQUEUE=false
RABBITMQ_NO_ACK=false
RABBITMQ_HEARTBEAT=60
RABBITMQ_CONNECTION_TIMEOUT=30000
RABBITMQ_PERSISTENT=true
RABBITMQ_MANAGEMENT_PORT=15672

# ============================================
# MONGODB (For AI/Analytics Service)
# ============================================
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_NAME=ai_analytics_db
MONGODB_USER=root
MONGODB_PASSWORD=root
MONGODB_URL=mongodb://root:root@localhost:27017/ai_analytics_db?authSource=admin

# ============================================
# AUTHENTICATION & JWT
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRY=24h
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRY=7d
SESSION_EXPIRY=86400
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
MAX_LOGIN_ATTEMPTS=5
LOCK_TIME_MS=900000
MFA_ENABLED=false

# ============================================
# EMAIL CONFIGURATION
# ============================================
EMAIL_PROVIDER=smtp
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@pfms.local
SMTP_FROM_NAME=PFMS
SENDGRID_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_API_KEY=
EMAIL_FROM=noreply@pfms.local
EMAIL_FROM_NAME=PFMS

# ============================================
# STORAGE / FILE UPLOAD
# ============================================
STORAGE_TYPE=local
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
MINIO_ENDPOINT=
MINIO_PORT=9000
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_BUCKET=
LOCAL_STORAGE_PATH=./uploads
FILE_MAX_SIZE=52428800

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
PROMETHEUS_PORT=9090
ENABLE_TRACING=false
JAEGER_ENDPOINT=
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_INTERVAL_MS=30000

# ============================================
# CORS & SECURITY
# ============================================
CORS_ORIGIN=*
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
REQUEST_TIMEOUT_MS=30000
BODY_SIZE_LIMIT=10mb

# ============================================
# EXTERNAL SERVICES & APIs
# ============================================
# Stock Market Data
ALPHA_VANTAGE_API_KEY=demo
FINNHUB_API_KEY=
POLYGON_API_KEY=

# Cryptocurrency
COINGECKO_API_KEY=

# Payment Processing
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# SMS/Communications
AWS_SNS_REGION=
AWS_SNS_ACCESS_KEY=
AWS_SNS_SECRET_KEY=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# API GATEWAY (Kong)
# ============================================
KONG_ADMIN_API=http://localhost:8001
KONG_PROXY_URL=http://localhost:8000
KONG_DATABASE=postgres
KONG_PG_HOST=kong-db
KONG_PG_USER=kong
KONG_PG_PASSWORD=kong
KONG_PG_DATABASE=kong

# JWT & Authentication
JWT_SECRET=your-super-secret-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRES_IN=1h
JWT_REFRESH_TOKEN_EXPIRES_IN=7d
JWT_ISSUER=pfms
JWT_AUDIENCE=pfms-users

# MFA
MFA_ENABLED=false
MFA_WINDOW_SECONDS=300

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# Session
SESSION_TIMEOUT_MINUTES=30

# CORS
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Upload
MAX_UPLOAD_SIZE_BYTES=52428800

# Timeouts
REQUEST_TIMEOUT_MS=30000

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_PATH=/metrics
TRACING_ENABLED=false
TRACING_SERVICE_NAME=pfms
LOGGING_FORMAT=json

# Service Names (for multi-instance deployments)
SERVICE_NAME=pfms-api

# MongoDB (for AI/Analytics)
MONGODB_URI=mongodb://localhost:27017/pfms_dev
MONGODB_MAX_POOL_SIZE=10

# S3/MinIO
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_S3_BUCKET=pfms
AWS_S3_ENDPOINT=http://localhost:9000
AWS_S3_USE_PATH_STYLE=true

# Email (for notifications)
EMAIL_PROVIDER=smtp
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@pfms.local

# SMS (for notifications)
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Third-party integrations
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
FACEBOOK_OAUTH_CLIENT_ID=
FACEBOOK_OAUTH_CLIENT_SECRET=

# Feature Flags
FEATURE_AI_ENABLED=true
FEATURE_GROUP_FINANCE_ENABLED=true
FEATURE_TAX_SERVICE_ENABLED=true
FEATURE_INVESTMENT_TRACKING_ENABLED=true

# API Keys for external services
ALPHA_VANTAGE_API_KEY=
COINMARKETCAP_API_KEY=
FOREX_API_KEY=

# Development only
DEBUG=false
SEED_DATABASE=false
