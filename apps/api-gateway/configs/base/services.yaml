# Base Service Definitions
# These service definitions are shared across all environments
# Environment-specific overrides can be applied in configs/{env}/overrides.yaml

_format_version: '3.0'

services:
  # ============================================
  # CORE SERVICES
  # ============================================

  # Auth Service
  - name: auth-service
    url: http://auth-service:3001
    protocol: http
    host: auth-service
    port: 3001
    retries: 5
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - core
      - authentication

  # User Service
  - name: user-service
    url: http://user-service:3002
    protocol: http
    host: user-service
    port: 3002
    retries: 5
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - core
      - user-management

  # ============================================
  # FINANCIAL SERVICES
  # ============================================

  # Expense Service
  - name: expense-service
    url: http://expense-service:3003
    protocol: http
    host: expense-service
    port: 3003
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - expense

  # Income Service
  - name: income-service
    url: http://income-service:3004
    protocol: http
    host: income-service
    port: 3004
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - income

  # Investment Service
  - name: investment-service
    url: http://investment-service:3005
    protocol: http
    host: investment-service
    port: 3005
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - investment

  # Loan Service
  - name: loan-service
    url: http://loan-service:3006
    protocol: http
    host: loan-service
    port: 3006
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - loan

  # Group Service
  - name: group-service
    url: http://group-service:3007
    protocol: http
    host: group-service
    port: 3007
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - group

  # Savings Service
  - name: savings-service
    url: http://savings-service:3014
    protocol: http
    host: savings-service
    port: 3014
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - savings

  # ============================================
  # SPECIALIZED SERVICES
  # ============================================

  # Tax Service
  - name: tax-service
    url: http://tax-service:3008
    protocol: http
    host: tax-service
    port: 3008
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - financial
      - tax

  # AI Service
  - name: ai-service
    url: http://ai-service:3009
    protocol: http
    host: ai-service
    port: 3009
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - analytics
      - ai

  # Notification Service
  - name: notification-service
    url: http://notification-service:3010
    protocol: http
    host: notification-service
    port: 3010
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - notification
      - communication

  # Automation Service
  - name: automation-service
    url: http://automation-service:3011
    protocol: http
    host: automation-service
    port: 3011
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - automation
      - rules

  # Report Service
  - name: report-service
    url: http://report-service:3012
    protocol: http
    host: report-service
    port: 3012
    retries: 3
    connect_timeout: 120000
    write_timeout: 60000
    read_timeout: 60000
    tags:
      - reporting
      - exports

  # Market Service
  - name: market-service
    url: http://market-service:3013
    protocol: http
    host: market-service
    port: 3013
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - market-data
      - external

  # ============================================
  # MONITORING SERVICES
  # ============================================

  # Grafana - Monitoring Dashboards
  - name: grafana
    url: http://grafana:3000
    protocol: http
    host: grafana
    port: 3000
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - monitoring
      - observability

  # Prometheus - Metrics Collection
  - name: prometheus
    url: http://prometheus:9090
    protocol: http
    host: prometheus
    port: 9090
    retries: 3
    connect_timeout: 60000
    write_timeout: 30000
    read_timeout: 30000
    tags:
      - monitoring
      - metrics
